<!DOCTYPE html>
<html>
<head>
    <title>Chat App</title>
</head>
<body>

    <h2>Welcome to Chat App</h2>

    <input id="username" placeholder="Your name">

    <h3>Create a Room</h3>
    <button onclick="createRoom()">Create Room</button>
    <p id="createdRoom"></p>

    <h3>Join a Room</h3>
    <input id="roomInput" placeholder="Enter Room ID">
    <button onclick="joinRoom()">Join</button>

    <script>
        // Generate random room ID
        function generateRoomID() {
            return Math.random().toString(36).substring(2, 8).toUpperCase();
        }

        function createRoom() {
            const username = document.getElementById("username").value.trim();
            if (!username) return alert("Enter your name");

            const room = generateRoomID();
            document.getElementById("createdRoom").innerText =
                "Room Created: " + room + " (share this with friends)";

            // redirect to chat
            window.location = `chat.html?name=${username}&room=${room}`;
        }

        function joinRoom() {
            const username = document.getElementById("username").value.trim();
            const room = document.getElementById("roomInput").value.trim();

            if (!username) return alert("Enter your name");
            if (!room) return alert("Enter a room ID");

            window.location = `chat.html?name=${username}&room=${room}`;
        }
    </script>

</body>
</html>
